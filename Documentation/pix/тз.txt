Алгоритм и механика игры "3 в ряд" (Match-3) для Android

Этот геймдизайн-документ описывает ключевые механики, логику и структуру кода для классической игры жанра "3 в ряд" (например, Candy Crush Saga или Bejeweled).
1. Основные компоненты игры
1.1. Игровое поле

    Сетка: 8×8 или 9×9 ячеек (можно настраивать).

    Элементы: 6–7 типов фишек (разные цвета/формы).

    Генерация: Рандомное заполнение с проверкой на отсутствие совпадений при старте.

1.2. Фишки (Tile)

    Атрибуты:

        Type (цвет/форма).

        Row, Column (позиция в сетке).

        IsMatched (флаг для удаления).

    Спецфишки:

        Бомба (уничтожает вокруг).

        Горизонтальная/вертикальная (удаляет ряд/колонку).

        Шоковая (удаляет все фишки одного типа).

2. Игровой цикл
2.1. Основные этапы

    Инициализация уровня:

        Загрузка сетки.

        Рандомная расстановка фишек (без начальных совпадений).

    Игровой процесс:

        Игрок свайпает фишки (горизонтально/вертикально).

        Проверка на совпадение 3+ в ряд.

        Удаление совпадений → анимация взрыва.

        Заполнение пустых ячеек новыми фишками (сверху).

    Проверка условий уровня:

        Цель: Собрать N фишек определённого типа / набрать X очков за Y ходов.

        Поражение: Закончились ходы (если ограничены).
		
		4. Дополнительные системы
4.1. Очки и комбо

    Очки:

        Базовая награда за 3 фишки = 100 очков.

        За каждую дополнительную фишку в матче +50.

    Комбо: Умножение очков при каскадных совпадениях.

4.2. Ограничения уровня

    Ходы: Максимум 15–30 (зависит от сложности).

    Время: Режим "на время" (опционально).

    Цели:

        Собрать 20 красных фишек.

        Уничтожить 10 блоков льда.
		
		
		5. Визуальные эффекты

    Анимации:

        Взрыв фишек.

        Падение новых фишек.

    Частицы: Эффекты при уничтожении.

    Sound Design:

        Звук свайпа.

        Звук совпадения.

        Фоновая музыка.